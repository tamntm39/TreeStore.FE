<div class="container mt-4">
  <div class="card p-4">
    <h4 class="card-title mb-4">Thêm thông tin cây mới</h4>
    <form [formGroup]="editProductForm" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label for="productName">Tên sản phẩm:</label>
        <input
          type="text"
          id="productName"
          class="form-control"
          formControlName="name"
          required
        />
        <div
          *ngIf="editProductForm.get('name')?.invalid && editProductForm.get('name')?.touched"
          class="text-danger"
        >
          Vui lòng nhập tên sản phẩm.
        </div>
      </div>

      <div class="mb-3">
        <label for="productType" class="form-label">Loại sản phẩm:</label>
        <select class="form-select" id="productType" formControlName="categoryId">
          <option value="">Chọn loại sản phẩm</option>
          <option *ngFor="let category of listCategory" [value]="category.id">
            {{ category.name }}
          </option>
        </select>
        <div
          *ngIf="editProductForm.get('categoryId')?.invalid && editProductForm.get('categoryId')?.touched"
          class="text-danger"
        >
          Vui lòng chọn loại sản phẩm.
        </div>
      </div>

      <div class="form-group">
        <label for="quantity">Số lượng:</label>
        <input
          type="number"
          id="quantity"
          class="form-control"
          formControlName="quantity"
          required
        />
        <div
          *ngIf="editProductForm.get('quantity')?.invalid && editProductForm.get('quantity')?.touched"
          class="text-danger"
        >
          Vui lòng nhập số lượng lớn hơn 0.
        </div>
      </div>

      <div class="form-group">
        <label for="price">Giá:</label>
        <input
          type="number"
          id="price"
          class="form-control"
          formControlName="priceOutput"
          required
        />
        <div
          *ngIf="editProductForm.get('priceOutput')?.invalid && editProductForm.get('priceOutput')?.touched"
          class="text-danger"
        >
          Vui lòng nhập giá lớn hơn 0.
        </div>
      </div>

      <div class="form-group">
        <label for="currentImage">Hình ảnh:</label>
        <img
          *ngIf="productImageUrl"
          [src]="rootUrl + '/' + productImageUrl"
          alt="Hình ảnh sản phẩm"
          style="max-width: 200px; max-height: 200px;"
          class="img-thumbnail mt-2"
        />
      </div>

      <div class="form-group">
        <label for="image">Chọn hình ảnh mới:</label>
        <input
          type="file"
          id="image"
          class="form-control"
          (change)="onFileSelected($event)"
        />
      </div>

      <div class="form-group">
        <label for="description">Mô tả:</label>
        <textarea
          id="description"
          class="form-control"
          formControlName="description"
          required
        ></textarea>
        <div
          *ngIf="editProductForm.get('description')?.invalid && editProductForm.get('description')?.touched"
          class="text-danger"
        >
          Vui lòng nhập mô tả sản phẩm.
        </div>
      </div>

      <button type="submit" class="btn btn-primary" [disabled]="editProductForm.invalid">
        Thêm
      </button>
      <button type="button" (click)="cancel()" class="btn btn-secondary">
        Hủy
      </button>
    </form>
  </div>
</div>
